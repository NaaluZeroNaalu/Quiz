<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Let's Start The Quiz</h1>
        <form id="quizForm">
            <!-- Questions -->
            <div id="quizContainer">
                <!-- Question 1 -->
                <div class="mb-4">
                    <h5>1. Ajith Favorite Color?</h5>
                    <div>
                        <input type="radio" id="q1a" name="q1" value="wrong">
                        <label for="q1a">Yellow</label>
                    </div>
                    <div>
                        <input type="radio" id="q1b" name="q1" value="correct">
                        <label for="q1b">Green</label>
                    </div>
                    <div>
                        <input type="radio" id="q1c" name="q1" value="wrong">
                        <label for="q1c">Red</label>
                    </div>
                </div>
                
                <!-- Add more questions in a similar format -->
                <div class="mb-4">
                    <h5>2. Ajith Favorite Number</h5>
                    <div>
                        <input type="radio" id="q2a" name="q2" value="wrong">
                        <label for="q2a">13</label>
                    </div>
                    <div>
                        <input type="radio" id="q2b" name="q2" value="correct">
                        <label for="q2b">2</label>
                    </div>
                    <div>
                        <input type="radio" id="q2c" name="q2" value="wrong">
                        <label for="q2c">6</label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <h5>3. Ajith Favorite Cartoon Series</h5>
                    <div>
                        <input type="radio" id="q3a" name="q3" value="correct">
                        <label for="q10a">Ben 10</label>
                    </div>
                    <div>
                        <input type="radio" id="q3b" name="q3" value="wrong">
                        <label for="q10b">Power Rangers</label>
                    </div>
                    <div>
                        <input type="radio" id="q3c" name="q3" value="wrong">
                        <label for="q10c">Schin Chan</label>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>4. Ajith Mother's Name</h5>
                    <div>
                        <input type="radio" id="q4a" name="q4" value="wrong">
                        <label for="q10a">Suganthi</label>
                    </div>
                    <div>
                        <input type="radio" id="q4b" name="q4" value="correct">
                        <label for="q10b">Saraswathy</label>
                    </div>
                    <div>
                        <input type="radio" id="q4c" name="q4" value="wrong">
                        <label for="q10c">Kaviya</label>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>5. Ajith Favorite Person</h5>
                    <div>
                        <input type="radio" id="q5a" name="q5" value="wrong">
                        <label for="q5a">Pradeepa</label>
                    </div>
                    <div>
                        <input type="radio" id="q5b" name="q5" value="correct">
                        <label for="q5b">Dhivya</label>
                    </div>
                    <div>
                        <input type="radio" id="q5c" name="q5" value="wrong">
                        <label for="q5c">Janani</label>
                    </div>
                    <div>
                        <input type="radio" id="q5c" name="q5" value="wrong">
                        <label for="q5c">Vidya</label>
                    </div>
                    <div>
                        <input type="radio" id="q5c" name="q5" value="wrong">
                        <label for="q5c">Aiman</label>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>6. Ajith Laptop's Nick Name</h5>
                    <div>
                        <input type="radio" id="q5a" name="q6" value="wrong">
                        <label for="q6a">Pradeepa</label>
                    </div>
                    <div>
                        <input type="radio" id="q5b" name="q6" value="correct">
                        <label for="q6b">Dhivya</label>
                    </div>
                    <div>
                        <input type="radio" id="q5c" name="q6" value="wrong">
                        <label for="q6c">Janani</label>
                    </div>
                    <div>
                        <input type="radio" id="q5c" name="q6" value="wrong">
                        <label for="q6c">Dhanalakshmi</label>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>7. IQ of Ajith</h5>
                    <div>
                        <input type="radio" id="q7a" name="q7" value="correct">
                        <label for="q6a">Psycopath</label>
                    </div>
                    <div>
                        <input type="radio" id="q7b" name="q7" value="wrong">
                        <label for="q6b">Normal</label>
                    </div>
                    <div>
                        <input type="radio" id="q7c" name="q7" value="wrong">
                        <label for="q6c">Mental</label>
                    </div>
                    <div>
                        <input type="radio" id="q7c" name="q7" value="correct">
                        <label for="q6c">Uncategorized</label>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>8. When was Ajith's Birthday </h5>
                    <div>
                        <input type="radio" id="q8a" name="q8" value="correct">
                        <label for="q6a">11.28.2003</label>
                    </div>
                    <div>
                        <input type="radio" id="q8b" name="q8" value="wrong">
                        <label for="q6b">13.04.2000</label>
                    </div>
                    <div>
                        <input type="radio" id="q8c" name="q8" value="correct">
                        <label for="q6c">12.10.2000</label>
                    </div>
                    <div>
                        <input type="radio" id="q8c" name="q8" value="wrong">
                        <label for="q6c">10.12.1997</label>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>9. Which one's Ajith's Most Visited Social Media </h5>
                    <div>
                        <input type="radio" id="q8a" name="q9" value="wrong">
                        <label for="q6a">Instagram</label>
                    </div>
                    <div>
                        <input type="radio" id="q8b" name="q9" value="correct">
                        <label for="q6b">Facebook</label>
                    </div>
                    <div>
                        <input type="radio" id="q8c" name="q9" value="correct">
                        <label for="q6c">Youtube</label>
                    </div>
                    <div>
                        <input type="radio" id="q8c" name="q9" value="wrong">
                        <label for="q6c">Snapchat</label>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>10. Ajith's Bike Name </h5>
                    <div>
                        <input type="radio" id="q8a" name="q10" value="wrong">
                        <label for="q6a">Duke</label>
                    </div>
                    <div>
                        <input type="radio" id="q8b" name="q10" value="wrong">
                        <label for="q6b">Royal Enfield</label>
                    </div>
                    <div>
                        <input type="radio" id="q8c" name="q10" value="wrong">
                        <label for="q6c">FZ</label>
                    </div>
                    <div>
                        <input type="radio" id="q8c" name="q10" value="correct">
                        <label for="q6c">Pulsar</label>
                    </div>
                </div>


            </div>

            <button type="button" id="submitQuiz" class="btn btn-primary">Submit</button>
        </form>

        <div id="result" class="mt-4 d-none">
            <h3>Your Score: <span id="score"></span>/10</h3>
        </div>
    </div>

    <script>
        document.getElementById('submitQuiz').addEventListener('click', function () {
            const quizForm = document.getElementById('quizForm');
            const formData = new FormData(quizForm);
            let score = 0;

            // Iterate through the form data
            for (let [name, value] of formData.entries()) {
                if (value === 'correct') {
                    score++;
                }
            }

            // Display the result
            document.getElementById('score').textContent = score;
            document.getElementById('result').classList.remove('d-none');

            if(window.localStorage.getItem("role") === "guest"){

                window.localStorage.setItem("score",score)
                window.location.href = "http://localhost:3000/guestscore"

            }else{
                $.ajax({
            url:'http://localhost:3000/updatescore',
            method:'POST',
            data:{
                user:window.localStorage.getItem("user"),
                score:score,
            },
            success:function(response){
                console.log("ok")
                window.localStorage.setItem("score",score)
                window.location.href = "http://localhost:3000/displayscore"
            },
            error:function (err) {
                console.log(err)
            }
     })
            }
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
